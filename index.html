<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢—Ä–µ–Ω–∞–∂–µ—Ä: –°–∏–ª–∞ —Ç—è–∂—ñ–Ω–Ω—è (–ê–Ω—ñ–º–∞—Ü—ñ—è —Ç–∞ –ó–≤—É–∫)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* –ê–Ω—ñ–º–æ–≤–∞–Ω–∏–π –≥—Ä–∞–¥—ñ—î–Ω—Ç–Ω–∏–π —Ñ–æ–Ω */
        body {
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .input-correct { border-color: #10b981 !important; background-color: #ecfdf5; animation: pulse-green 0.5s; }
        .input-wrong { border-color: #ef4444 !important; background-color: #fef2f2; animation: shake 0.4s; }
        
        @keyframes pulse-green {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        .glass-panel {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body class="min-h-screen py-10 px-4 flex items-center justify-center">

    <div class="max-w-5xl w-full glass-panel rounded-3xl shadow-2xl overflow-hidden border border-white/20">
        <!-- Header -->
        <div class="bg-indigo-700/90 p-8 text-white text-center relative">
            <h1 class="text-3xl font-bold tracking-tight">üöÄ –ú–∞–π—Å—Ç–µ—Ä –°–∏–ª–∏ –¢—è–∂—ñ–Ω–Ω—è</h1>
            <p class="mt-2 text-indigo-100 opacity-90 text-lg">–†–æ–∑–≤'—è–∂–∏ –≤—Å—ñ 12 –∑–∞–¥–∞—á —ñ–∑ –∑–∞–¥–æ–≤–æ–ª–µ–Ω–Ω—è–º!</p>
            
            <!-- Audio Toggle -->
            <button id="audio-toggle" class="absolute top-4 right-4 bg-white/20 hover:bg-white/30 p-2 rounded-full transition-all" title="–£–≤—ñ–º–∫–Ω—É—Ç–∏ –∑–≤—É–∫">
                <span id="speaker-icon">üîá</span>
            </button>

            <div class="mt-6 flex flex-wrap justify-center gap-4">
                <span class="bg-indigo-800/50 px-4 py-2 rounded-lg border border-indigo-400 text-sm">F = m ¬∑ g</span>
                <span class="bg-indigo-800/50 px-4 py-2 rounded-lg border border-indigo-400 text-sm">g ‚âà 10 –ù/–∫–≥</span>
            </div>
        </div>

        <!-- Progress Bar -->
        <div class="bg-slate-200 h-3 w-full">
            <div id="progress-bar" class="bg-emerald-500 h-full w-0 transition-all duration-700 ease-out shadow-[0_0_10px_rgba(16,185,129,0.5)]"></div>
        </div>

        <div class="p-6 md:p-8">
            <div class="overflow-x-auto">
                <table class="w-full text-left border-separate border-spacing-y-3">
                    <thead>
                        <tr class="text-slate-500 text-sm uppercase tracking-wider">
                            <th class="px-4 py-2">‚Ññ</th>
                            <th class="px-4 py-2">–ú–∞—Å–∞ (m)</th>
                            <th class="px-4 py-2 text-center">g</th>
                            <th class="px-4 py-2">–°–∏–ª–∞ (F<sub>—Ç—è–∂</sub>)</th>
                            <th class="px-4 py-2 text-right">–î—ñ—è</th>
                        </tr>
                    </thead>
                    <tbody id="task-list">
                        <!-- –°—é–¥–∏ JS –¥–æ–¥–∞—Å—Ç—å —Ä—è–¥–∫–∏ -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Global Feedback -->
        <div id="feedback" class="mx-8 mb-8 p-4 rounded-xl hidden border-2 text-center font-medium transition-all"></div>

        <!-- Unit Helper -->
        <div class="bg-slate-50/80 p-8 border-t border-slate-200 grid grid-cols-1 md:grid-cols-3 gap-6">
            <div>
                <h4 class="font-bold text-indigo-900 mb-2 uppercase text-xs">–ú–∞—Å–∞ (m)</h4>
                <ul class="text-slate-600 text-xs space-y-1">
                    <li>1 —Ç = 1000 –∫–≥ | 1 –∫–≥ = 1000 –≥</li>
                    <li>1 –≥ = 0.001 –∫–≥ | 1 –º–≥ = 0.000001 –∫–≥</li>
                </ul>
            </div>
            <div>
                <h4 class="font-bold text-indigo-900 mb-2 uppercase text-xs">–°–∏–ª–∞ (F)</h4>
                <ul class="text-slate-600 text-xs space-y-1">
                    <li>1 –∫–ù = 1000 –ù | 1 –º–ù = 0.001 –ù</li>
                    <li>1 –ú–ù = 1 000 000 –ù</li>
                </ul>
            </div>
            <div class="bg-indigo-50/50 p-4 rounded-lg border border-indigo-100">
                <p class="text-indigo-800 text-[11px] leading-tight italic">
                    <strong>–ú—É–∑–∏–∫–∞:</strong> –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –∑–Ω–∞—á–æ–∫ –≥—É—á–Ω–æ–º–æ–≤—Ü—è –≤–≥–æ—Ä—ñ, —â–æ–± –∞–∫—Ç–∏–≤—É–≤–∞—Ç–∏ –∑–≤—É–∫–æ–≤—ñ –µ—Ñ–µ–∫—Ç–∏.
                </p>
            </div>
        </div>
    </div>

    <script>
        // Audio Logic
        let audioContext;
        let isAudioOn = false;
        const toggleBtn = document.getElementById('audio-toggle');
        const speakerIcon = document.getElementById('speaker-icon');

        function initAudio() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
        }

        toggleBtn.onclick = () => {
            initAudio();
            isAudioOn = !isAudioOn;
            speakerIcon.innerText = isAudioOn ? "üîä" : "üîá";
            toggleBtn.classList.toggle('bg-emerald-500', isAudioOn);
        };

        function playTone(freq, duration, type = 'sine') {
            if (!isAudioOn) return;
            const osc = audioContext.createOscillator();
            const gain = audioContext.createGain();
            osc.type = type;
            osc.frequency.setValueAtTime(freq, audioContext.currentTime);
            gain.gain.setValueAtTime(0.1, audioContext.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
            osc.connect(gain);
            gain.connect(audioContext.destination);
            osc.start();
            osc.stop(audioContext.currentTime + duration);
        }

        const tasks = [
            { id: 1, m: "150 –≥", g: "10", f_label: "? –ù", target: "f", answer: 1.5, hint: "150 –≥ = 0.15 –∫–≥. 0.15 * 10 = 1.5 –ù" },
            { id: 2, m: "? –≥", g: "10", f_label: "20 –∫–ù", target: "m", answer: 2000000, hint: "20 –∫–ù = 20 000 –ù. m = 2000 –∫–≥ = 2 000 000 –≥" },
            { id: 3, m: "? –∫–≥", g: "10", f_label: "1500 –º–ù", target: "m", answer: 0.15, hint: "1500 –º–ù = 1.5 –ù. m = 1.5 / 10 = 0.15 –∫–≥" },
            { id: 4, m: "5 —Ç", g: "10", f_label: "? –∫–ù", target: "f", answer: 50, hint: "5 —Ç = 5000 –∫–≥. F = 5000 * 10 = 50 000 –ù = 50 –∫–ù" },
            { id: 5, m: "? –∫–≥", g: "10", f_label: "4 –∫–ù", target: "m", answer: 400, hint: "4 –∫–ù = 4000 –ù. m = 400 –∫–≥" },
            { id: 6, m: "250 –º–≥", g: "10", f_label: "? –º–ù", target: "f", answer: 2.5, hint: "250 –º–≥ = 0.00025 –∫–≥. F = 0.0025 –ù = 2.5 –º–ù" },
            { id: 7, m: "? –∫–≥", g: "10", f_label: "0.05 –∫–ù", target: "m", answer: 5, hint: "0.05 –∫–ù = 50 –ù. m = 50 / 10 = 5 –∫–≥" },
            { id: 8, m: "0.4 —Ç", g: "10", f_label: "? –ù", target: "f", answer: 4000, hint: "0.4 —Ç = 400 –∫–≥. F = 400 * 10 = 4000 –ù" },
            { id: 9, m: "? –≥", g: "10", f_label: "1 –ù", target: "m", answer: 100, hint: "F = 1 –ù. m = 0.1 –∫–≥ = 100 –≥" },
            { id: 10, m: "1.2 –∫–≥", g: "10", f_label: "? –º–ù", target: "f", answer: 12000, hint: "F = 12 –ù = 12 000 –º–ù" },
            { id: 11, m: "0.008 —Ç", g: "10", f_label: "? –ù", target: "f", answer: 80, hint: "0.008 —Ç = 8 –∫–≥. F = 80 –ù" },
            { id: 12, m: "? —Ç", g: "10", f_label: "0.1 –ú–ù", target: "m", answer: 10, hint: "0.1 –ú–ù = 100 000 –ù. m = 10 000 –∫–≥ = 10 —Ç" }
        ];

        let completed = new Set();

        function renderTasks() {
            const container = document.getElementById('task-list');
            container.innerHTML = tasks.map(t => `
                <tr class="bg-white/50 border border-slate-100 rounded-xl transition-all hover:bg-white">
                    <td class="px-4 py-4 font-bold text-indigo-300 text-xs">${t.id}</td>
                    <td class="px-4 py-4">
                        ${t.target === 'm' 
                            ? `<div class="flex items-center gap-1"><input type="number" id="input-${t.id}" class="w-24 p-2 border border-slate-200 rounded-lg text-center font-bold outline-none focus:border-indigo-500" placeholder="?"><span class="text-slate-400 font-bold">${t.m.split(' ')[1]}</span></div>` 
                            : `<span class="font-semibold text-slate-700">${t.m}</span>`}
                    </td>
                    <td class="px-4 py-4 text-center text-slate-400 font-mono text-xs italic">${t.g} –ù/–∫–≥</td>
                    <td class="px-4 py-4">
                        ${t.target === 'f' 
                            ? `<div class="flex items-center gap-1"><input type="number" id="input-${t.id}" class="w-24 p-2 border border-slate-200 rounded-lg text-center font-bold outline-none focus:border-indigo-500" placeholder="?"><span class="text-slate-400 font-bold">${t.f_label.split(' ')[1]}</span></div>` 
                            : `<span class="font-semibold text-slate-700">${t.f_label}</span>`}
                    </td>
                    <td class="px-4 py-4 text-right">
                        <button onclick="checkTask(${t.id})" id="btn-${t.id}" class="bg-indigo-600 hover:bg-indigo-700 text-white text-[10px] uppercase font-bold px-4 py-2 rounded-lg transition-all active:scale-95">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏</button>
                    </td>
                </tr>
            `).join('');
        }

        window.checkTask = function(id) {
            const task = tasks.find(t => t.id === id);
            const input = document.getElementById(`input-${id}`);
            const feedback = document.getElementById('feedback');
            const userVal = parseFloat(input.value);

            if (isNaN(userVal)) return;

            if (Math.abs(userVal - task.answer) < 0.0001) {
                input.className = "w-24 p-2 border rounded-lg text-center font-bold input-correct";
                completed.add(id);
                showFeedback(true, task.hint);
                updateProgress();
                playTone(660, 0.1, 'square');
                setTimeout(() => playTone(880, 0.2, 'square'), 100);
                
                const btn = document.getElementById(`btn-${id}`);
                btn.innerHTML = "–í–Ü–†–ù–û";
                btn.disabled = true;
                btn.className = "bg-emerald-500 text-white text-[10px] font-bold px-4 py-2 rounded-lg opacity-80 cursor-default";
            } else {
                input.className = "w-24 p-2 border rounded-lg text-center font-bold input-wrong";
                showFeedback(false, "–ü–æ–º–∏–ª–∫–∞ –≤ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∞—Ö –∞–±–æ –æ–¥–∏–Ω–∏—Ü—è—Ö –°–Ü.");
                playTone(220, 0.3, 'sawtooth');
                input.focus();
            }
        };

        function showFeedback(isCorrect, text) {
            const fb = document.getElementById('feedback');
            fb.classList.remove('hidden', 'fade-in');
            void fb.offsetWidth; 
            fb.classList.add('fade-in');
            
            if (isCorrect) {
                fb.className = "mx-8 mb-8 p-4 rounded-xl border-2 bg-emerald-50 border-emerald-200 text-emerald-800 block fade-in shadow-sm";
                fb.innerHTML = `üåü <strong>–ú–æ–ª–æ–¥–µ—Ü—å!</strong> ${text}`;
            } else {
                fb.className = "mx-8 mb-8 p-4 rounded-xl border-2 bg-rose-50 border-rose-200 text-rose-800 block fade-in shadow-sm";
                fb.innerHTML = `üßê <strong>–û–π!</strong> ${text}`;
            }
        }

        function updateProgress() {
            const percent = (completed.size / tasks.length) * 100;
            document.getElementById('progress-bar').style.width = percent + '%';
            
            if (completed.size === tasks.length) {
                setTimeout(() => {
                    playTone(523.25, 0.1);
                    playTone(659.25, 0.1);
                    playTone(783.99, 0.3);
                    alert("üèÜ –í–Ü–¢–ê–Ñ–ú–û! –í–∏ —É—Å–ø—ñ—à–Ω–æ —Ä–æ–∑–≤'—è–∑–∞–ª–∏ –≤—Å—ñ –∑–∞–≤–¥–∞–Ω–Ω—è!");
                }, 500);
            }
        }

        renderTasks();
    </script>
</body>

</html>
